TODO:
- реализовать миграции
- 404я ошибка, отправка письма, plushka::url для CGI
- исправить пути к контроллерам и виджетам в установщике модулей: установка и удаление
- Удалить везде из пространств имён поставщика (plushka). Проверить совместимость с PSR.
- Обновить модуль payment в соответствии с сайтом sexkiev.xyz
- Искать все file_exits: если это класс, то, возможно, автозагрузка справится и с этим.
- Убрать лишнюю вложенность, пусть репозиторий сразу находится в WWW.
- в plushka::config добавить обработку 'admin' для включения файлов секции admin - сейчас вообще не реализовано
- в core::url, plushka::link, plushka::linkPublic добавить исключение на случай, если для cgi нет настройки домена
- в admin\plushka::cache добавить кеширование для случая admin.
- проверить используется ли вообще динамическая модель
- в admin\plushka::Model добавить проверку пути admin.
- выбрасывать исключение если файла локализации нет (core::language);
- просканировать в админке вызовы plushka::user(), plushka::userCore(), plushka::userGroup(), plushka::userId() - они теперь возвращают подменённого пользователя.
- нужно либо везде использовать linkAdmin() либо не использовать его нигде. Это же касается linkPublic.
- нужно научить админку понимать подмену url и исправить \admin\plushka::redirectPublic.
- для админки привести URL к одному виду и использовать только его, проверить /core/Admin.php, класс table, form и другие, где используются ссылки в админской области, проверить все контроллеры, представления и модели админки.

Имена таблиц СУБД MySQL изменены к нижнему регистру с символом подчёркивания в роли разделителя.

Реализованы пространства имён.

Базовый класс core переименован в plushka, но по прежнему расположен в глобальном пространстве имён.

Первая буква имён всех классов, а также имён соответствующих файлов переименованы к верхнему регистру.

Класс admin\core теперь унаследован от \core.

Глобальный указатель на контроллер перенесён из controller::$self в plushka::$controller.

Имена классов контроллеров изменены, теперь в таком формате: (Name)Controller, например "ArticleController". Имена файлов контроллеров также изменены и соответствуют имени класса: ArticleController.php.

Имена классов виджетов изменены, теперь в таком формате: (Name)Widget, например "AdminWidget". Имена файлов виджетов также изменены и соответствуют имени класса: AdminWidget.php.

Исключён параметр $active конструктора класса контроллера, используйте $_GET['corePath'][1] вместо этого.

Имена CSS-классов виджетов изменены к верхнему регустрку: "widgetMenu", вместо "widgetmenu".

$_GET['corePath'] теперь определяется в скрипте инициализации, а не в .htaccess.

В административной части plushka::user(), plushka::userId(), plushka::userGroup() теперь возвращают информацию подменённого пользователя, если включён режим подмены пользователя. Используйте plushka::userCore(), чтобы гарантированно получить администратора.

Из контроллера админки убран метод scriptAdmin(), используйте controller::js('admin/...') вместо него.

controller::style() переименован в controller::css().

В административной части больше не используется $_GET['corePath'], вместо него следует использовать $_GET['controller'] и $_GET['action'].

Функция core::userCore() переименована в plushka::userReal(), в сессии переменная userCore также переименована в userReal.

Добавлены исключения DBException, HTTP404Exception, RouteException

Функции Mysqli::query() и Sqlite::query() больше не возвращают булевое значение, вместо него, в случае ошибки, выбрасывается исключение DBException.

Исключен метод core::error404(), вместо него следует выбрасывать исключение HTTP404Exception.